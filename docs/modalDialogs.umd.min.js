(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t():"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["modalDialogs"]=t():e["modalDialogs"]=t()})("undefined"!==typeof self?self:this,function(){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="fb15")}({1809:function(e,t,n){"use strict";n.r(t),n.d(t,"helper",function(){return o});const o={verifyIndexAndContainer(e,t,n){if("object"!==typeof e[t])throw new Error("Index with name "+t+" is not an object in state.");if(!(e[n]instanceof Array))throw new Error("Container with name "+n+" is not an array in state.")}}},"92e7":function(e,t,n){"use strict";var o=n("be89"),r=n.n(o);r.a},be89:function(e,t,n){},f6fd:function(e,t){(function(e){var t="currentScript",n=e.getElementsByTagName("script");t in e||Object.defineProperty(e,t,{get:function(){try{throw new Error}catch(o){var e,t=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(o.stack)||[!1])[1];for(e in n)if(n[e].src==t||"interactive"==n[e].readyState)return n[e];return null}}})})(document)},fb15:function(e,t,n){"use strict";n.r(t);var o={};n.r(o),n.d(o,"getArrayElWIdxByIdFactory",function(){return g});var r={};n.r(r),n.d(r,"setPropVal",function(){return v}),n.d(r,"setProps",function(){return x}),n.d(r,"setPropsOnObjectFactory",function(){return E}),n.d(r,"setArrayElPropsByIdFactory",function(){return j}),n.d(r,"addArrayElementFactory",function(){return C}),n.d(r,"removeArrayElementByIdFactory",function(){return O}),n.d(r,"resetArrayFactory",function(){return $});var i,a={};(n.r(a),n.d(a,"passThruActionsFactory",function(){return F}),"undefined"!==typeof window)&&(n("f6fd"),(i=window.document.currentScript)&&(i=i.src.match(/(.+\/)[^\/]+\.js(\?.*)?$/))&&(n.p=i[1]));function s(e={},t={}){const n={};for(const r in t){const o=t[r],i=e[r],a=o.type,s=typeof i,l=o.required,d=r in e;if("undefined"===typeof a)throw new Error("type property on default is missing");if(l&&!d)throw new Error("Config property '"+r+"' is required but not provided.");if(d&&null!==a&&s!==a)throw new Error("Config property '"+r+"' must be of type '"+a+"' but is of type '"+s+"'.");n[r]=d?i:o.default}const o=[];for(const r in e)r in t||o.push(r);return o.length>0&&console.warn("The following config property was / properties were provided for which no defaults exist: "+o.toString()),n}function l(e){return"$"===e[0]&&"_"===e[1]&&e.substring(2).indexOf("_")>-1}function d(e,t=!1){if("string"!==typeof e){if(!0===t)throw new Error("Tried to write a non-string property to the object root.");return!1}const n=["data","props","propsData","computed","methods","watch","el","template","render","renderError","beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","activated","deactivated","beforeDestroy","destroyed","errorCaptured","directives","filters","components","parent","mixins","extends","provide","inject","name","delimiters","functional","model","inheritAttrs","comments"],o=-1===n.indexOf(e);if(!1===o&&!0===t)throw new Error("Adding property to object root failed. '"+e+"' is a reserved Vue property.");return o}function c(e,t){for(const n in t){if(n in e)throw new Error("Tried to write property on component that already exists: "+n);if(!l(n))throw new Error("Private property names should be in the form of: $_namespace_propertyName. This is important especially for plugins in order to avoid name collisions. See also https://vuejs.org/v2/style-guide/#Private-property-names-essential");e[n]=t[n]}}function p(e,t){if("string"!==typeof t)throw new Error("'name' parameter must be of type string. Got: "+typeof t);if("object"!==typeof e||!("name"in e))throw new Error("'component' parameter must be an object with the property name.");e.name=t}function u(e,t,n){if("string"!==typeof t)throw new Error("namespace parameter must be of type string.");if("object"!==typeof n)throw new Error("module parameter must be of type object.");const o=["state","getters","mutations","actions","modules"];let r=0;if(o.forEach(e=>{n.hasOwnProperty(e)&&r++}),0===r)throw new Error("Vuex module is of unexpected structure. Expected to see at least one of: "+o.toString(","));if("undefined"===typeof e||"undefined"===typeof e.dispatch)throw new Error(`Plugin ${t} requires vuex instance as config parameter: Vue.use(${t}, {vuex: instanceOfVuex}).`);e.registerModule(t,n)}function f(e,t,n={}){if(!("version"in e))throw new Error("The version property is missing on the Vue instance.");if(e.version.replace(/[0-9\.]/g,"").length>0)throw new Error("Vue version is not in a dot-separated format. Got: "+e.version);if((""+t).replace(/[0-9\.]/g,"").length>0)throw new Error("The required version is not in a dot-separated format. Got: "+e.version);const o=e.version.split(".").map(e=>parseInt(e)),r=t.split(".").map(e=>parseInt(e)),i=void 0!==n.throwInsteadOfReturn&&n.throwInsteadOfReturn;let a=!0;if(r.forEach(e=>{if("number"!==typeof e||isNaN(e))throw new Error("The required version is not in the format x, x.y or x.y.z. Got: "+t)}),r.length>3||r.length<1)throw new Error("The required version is not in the format x, x.y or x.y.z. Got: "+t);for(let s=0,l=r.length;s<l;s++){const e=o[s],t=r[s];if(e!==t){a=!(e<t);break}}if(!1===a&&!0===i)throw new Error("You do not have the required Vue version of "+t+". You have: "+e.version);return a}const m={configParser:s,isValidPrivateProperty:l,isValidRootProperty:d,componentOptionsWriter:c,renameComponent:p,registerVuexModule:u,ensureVersion:f};const{helper:h}=n("1809");function y(e,t,n){return o=>{const r=t[o];return"number"!==typeof r?n:e[r]}}const g=function(e={}){const t=e.container||"container",n=e.index||"index",o="noResult"in e?e.noResult:null;return function(e){return h.verifyIndexAndContainer(e,n,t),y(e[t],e[n],o)}},{helper:w}=n("1809"),v=function(e,t){if("undefined"===typeof t||!("prop"in t)||!("val"in t))throw new Error("Missing property on data parameter: provide 'prop' and 'val'.");if(!(t.prop in e))throw new Error("Tried to set non-existing property: "+t.prop);e[t.prop]=t.val};function b(e,t,n){if(e[n]instanceof Array&&"arrOp"in t)switch(t.arrOp){case"push":e[n].push(t[n]);break;case"unshift":e[n].unshift(t[n]);break;case"pop":e[n].pop();break;case"shift":e[n].shift();break;case"insert":const o=t[n],r=e[n];if("object"!==typeof o)throw new Error("Failed to insert: the property value must be an object with properties value and index or element.");const{value:i,index:a,element:s}=o;if("number"!==typeof a&&void 0===s)throw new Error("Failed to insert: either provide on the property value an index property (number) or an element to insert at.");const l="number"===typeof a?a:r.indexOf(s);if(!(l>-1))throw new Error("Failed to insert: the element property to insert at does not exist in the array.");r.splice(l,0,i);break;case"delete":const d=e[n].indexOf(t[n]);if(!(d>-1))throw new Error("Failed to delete: the element to delete does not exist in the array.");e[n].splice(d,1);break;default:throw new Error("Unknown array operation provided: "+t.arrOp)}else"recur"===t.objOp?x(e[n],t[n]):e[n]=t[n]}const x=function(e,t){const n=[];for(const o in t)"arrOp"!==o&&"objOp"!==o&&(o in e?"object"!==typeof e[o]?e[o]=t[o]:b(e,t,o):n.push(o));if(n.length>0)throw new Error("Tried to set at least one non-existing property: "+n.join(","))},E=function(e={}){const t=e.object;if(void 0===t)throw new Error("Missing mandatory settings parameter 'setting.object'");return function(e,n){if(!(t in e))throw new Error("The object with the name on the state does not exist: "+t);x(e[t],n)}};function _(e,t,n){const o=n.id;if("undefined"===typeof o)throw new Error("Missing id on data parameter.");const r=t[o];if("undefined"===typeof r)throw new Error("Id not found in index while setting prop/s on element: "+JSON.stringify(n));const i=e[r];delete n.id,x(i,n)}const j=function(e={}){const t=e.container||"container",n=e.index||"index";return function(e,o){w.verifyIndexAndContainer(e,n,t),_(e[t],e[n],o)}},C=function(e={}){const t=e.container||"container",n=e.index||"index";return function(e,o){if(w.verifyIndexAndContainer(e,n,t),!("id"in o))throw new Error("Failed to add element because it has no id: "+JSON.stringify(o));const r=e[t].push(o)-1;e[n][o.id]=r}},O=function(e={}){const t=e.container||"container",n=e.index||"index";return function(e,o){w.verifyIndexAndContainer(e,n,t);const r=o.id,i=e[t],a=e[n][r];if(void 0===i[a])throw new Error("Delete failed. Tried to remove id from undefined index: "+a);i.splice(a,1),delete e[n][r];for(let t=a,s=i.length;t<s;t++)e[n][i[t].id]=t}};function A(e,t,n){e[t]=n}function P(e,t){e.splice(0,e.length),e.push(...t)}const $=function(e={}){const t=e.container||"container",n=e.index||"index",o=!("preserveReference"in e)||e.preserveReference;return function(e,r=[]){w.verifyIndexAndContainer(e,n,t);const i=e[t],a=r.elements||[];o?P(i,a):A(e,t,a),e[n]={};for(let t=0,o=i.length;t<o;t++)e[n][i[t].id]=t}},F=function(e){if("string"===typeof e)return function(t,n,o){t.commit(e,n,o)};if(e instanceof Array){const t={};return e.forEach(e=>{if("string"!==typeof e)throw new Error("Expected element of array to be of type string. Got: "+typeof e);t[e]=function(t,n,o){t.commit(e,n,o)}}),t}if("object"===typeof e){for(const t in e){const n=t,o=e[t];e[n]=function(e,t,n){e.commit(o,t,n)}}return e}throw new Error("Expected parameter to be of type string, object or array. Got: "+typeof e)};const T=r,I=a,{getArrayElWIdxByIdFactory:k}=o,{setPropVal:M,setProps:S,setArrayElPropsByIdFactory:D,setPropsOnObjectFactory:V,addArrayElementFactory:R,removeArrayElementByIdFactory:N,resetArrayFactory:q}=r,{passThruActionsFactory:B}=I;var G,U={namespaced:!0,state:{opened:null,parameters:null,dialogComponentMap:{confirm:"modal-dialog-confirm",alert:"modal-dialog-alert",prompt:"modal-dialog-prompt"}},mutations:{set:T.setProps,addDialogs:function(e,t){for(var n=0,o=t.length;n<o;n++){var r=t[n];if(r.name in e.dialogComponentMap)throw new Error("Failed to install dialog to store: duplicate name detected: "+r.name);e.dialogComponentMap[r.name]=r.component}}},actions:{open:function(e,t){if(null!==e.state.opened)throw new Error("Tried to open a dialog but another dialog is still opened.");return e.commit("set",{parameters:t.parameters||null,opened:t.dialog}),new Promise(function(e){G=e})},close:function(e,t){e.commit("set",{parameters:null,opened:null}),G(t),G=null},installUserDialogs:function(e,t){e.commit("addDialogs",t)}}},W=U,z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return null!==e.activeModal?n(e.activeModal,{tag:"component",attrs:{parameters:e.parameters,close:e.close}}):e._e()},J=[],X=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("base-modal-dialog",{staticClass:"modal-dialog_confirm",attrs:{title:"Confirm",body:e.parameters,buttons:{Ok:e.ok,Cancel:e.cancel}}})},Y=[],H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal-dialog_modal"},[n("div",{staticClass:"modal-dialog_container"},[n("div",{staticClass:"modal-dialog_header"},[n("span",[e._t("header",[e._v(e._s(e.title))])],2)]),n("div",{staticClass:"modal-dialog_body"},[e._t("body",[n("p",[e._v(e._s(e.body))])])],2),n("div",{staticClass:"modal-dialog_footer"},[e._t("footer",e._l(e.buttons,function(t,o){return n("button",{staticClass:"modal-dialog_buttons",attrs:{id:"modal-dialog_buttons--"+o},on:{click:t}},[e._v(e._s(o))])}))],2)])])},K=[],L={name:"base-modal-dialog",props:["title","body","buttons"],methods:{ok:function(){console.log("Ok method from base modal.")}}},Q=L;n("92e7");function Z(e,t,n,o,r,i,a,s){var l,d="function"===typeof e?e.options:e;if(t&&(d.render=t,d.staticRenderFns=n,d._compiled=!0),o&&(d.functional=!0),i&&(d._scopeId="data-v-"+i),a?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},d._ssrRegister=l):r&&(l=s?function(){r.call(this,this.$root.$options.shadowRoot)}:r),l)if(d.functional){d._injectStyles=l;var c=d.render;d.render=function(e,t){return l.call(t),c(e,t)}}else{var p=d.beforeCreate;d.beforeCreate=p?[].concat(p,l):[l]}return{exports:e,options:d}}var ee=Z(Q,H,K,!1,null,null,null),te=ee.exports,ne={name:"modal-dialog-confirm",props:["parameters","close"],methods:{ok:function(){this.close(!0)},cancel:function(){this.close(!1)}},components:{"base-modal-dialog":te}},oe=ne,re=oe,ie=Z(re,X,Y,!1,null,null,null),ae=ie.exports,se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("base-modal-dialog",{staticClass:"modal-dialog_prompt",attrs:{title:"Enter",buttons:{Ok:e.ok,Cancel:e.cancel}}},[n("div",{attrs:{slot:"body"},slot:"body"},[""!==e.text?n("p",[e._v(e._s(e.text))]):e._e(),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.input,expression:"input"}],staticClass:"modal-dialog_textarea",attrs:{placeholder:e.placeholder},domProps:{value:e.input},on:{input:function(t){t.target.composing||(e.input=t.target.value)}}})])])},le=[],de={name:"modal-dialog-prompt",props:["parameters","close"],data:function(){return{input:"",text:"",placeholder:""}},methods:{ok:function(){this.close(this.input)},cancel:function(){this.close(null)}},created:function(){"undefined"!==typeof this.parameters&&("undefined"!==typeof this.parameters.text&&(this.text=this.parameters.text),"undefined"!==typeof this.parameters.placeholder&&(this.placeholder=this.parameters.placeholder))},components:{"base-modal-dialog":te}},ce=de,pe=ce,ue=Z(pe,se,le,!1,null,null,null),fe=ue.exports,me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("base-modal-dialog",{staticClass:"modal-dialog_alert",attrs:{title:"Notice",body:e.parameters,buttons:{Ok:e.close}}})},he=[],ye={name:"modal-dialog-alert",props:["parameters","close"],components:{"base-modal-dialog":te}},ge=ye,we=ge,ve=Z(we,me,he,!1,null,null,null),be=ve.exports,xe={name:"modal-dialog-container",computed:{activeModal:function(){var e=this.$store.state[this.namespace],t=e.dialogComponentMap,n=e.opened,o=null===n?null:t[n];if("undefined"===typeof o)throw new Error("An invalid modal dialog id was set in open-action: "+n);return o},parameters:function(){return this.$store.state[this.namespace].parameters}},data:function(){return{namespace:"modalDialog"}},methods:{close:function(e){this.$store.dispatch(this.namespace+"/close",e)}},created:function(){"undefined"!==typeof this.$options.$_modalDialogs_namespace&&(this.namespace=this.$options.$_modalDialogs_namespace)},install:function(e,t){for(var n=0,o=e.length;n<o;n++){var r=e[n];if(r.name in this.components)throw new Error("Failed to install user dialogs: duplicate component name detected: "+r.name);r.components=r.components||{},r.components[t.name]=t,this.components[r.name]=r}},components:{"modal-dialog-confirm":ae,"modal-dialog-prompt":fe,"modal-dialog-alert":be}},Ee=xe,_e=Z(Ee,z,J,!1,null,null,null),je=_e.exports;function Ce(e){for(var t={store:[],ui:[]},n="Failed to install user dialogs: ",o=0,r=e.length;o<r;o++){var i=e[o];if(!("name"in i&&"dialog"in i))throw new Error(n+"dialogs must have 'name' (name of dialog used in store calls) and 'dialog' (dialog component) properties.");if(!("name"in i.dialog))throw new Error(n+"missing name property on user dialog. Make sure you provide a dialog compnent.");t.store.push({name:i.name,component:i.dialog.name}),t.ui.push(i.dialog)}return t}var Oe=je,Ae={install:function(e,t){var n=m.configParser(t,{namespace:{type:"string",default:"modalDialog"},vuex:{type:null},customDialogs:{type:"object",default:[]}}),o=n.namespace,r=n.customDialogs,i=n.vuex;if(m.componentOptionsWriter(je,{$_modalDialogs_namespace:o}),m.registerVuexModule(i,o,W),!(r instanceof Array))throw new Error("Failed to install user dialogs: dialogs parameter not an Array");if(r.length>0){var a=Ce(r);je.install(a.ui,te),i.dispatch(o+"/installUserDialogs",a.store)}delete je.install}},Pe=Ae;n.d(t,"component",function(){return Oe}),n.d(t,"installer",function(){return Ae});t["default"]=Pe}})});